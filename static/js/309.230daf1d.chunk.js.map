{"version":3,"file":"static/js/309.230daf1d.chunk.js","mappings":"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","sources":["Component/AllOrders/AllOrders.jsx"],"sourcesContent":["import React,{useState, useEffect, useContext} from 'react'\r\nimport axios from 'axios';\r\nimport { Triangle } from 'react-loader-spinner'\r\n\r\nimport { UserContext } from '../../Context/UserContext';\r\nexport default function AllOrders() {\r\n  const [owner, setOwner] = useState([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const {decodeToken} = useContext( UserContext )\r\n  async function getOrders(){\r\n    try {\r\n        const data = await axios.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${decodeToken}`,{\r\n            headers: {\r\n                token: localStorage.getItem('token')\r\n            }\r\n          \r\n        });\r\n          console.log(data.data)\r\n          setOwner(data.data)\r\n          setIsLoading(false)\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nuseEffect(() => {\r\n  getOrders()\r\n}, [])\r\n\r\n  return (\r\n    <>\r\n    <h2 className=\"text-center text-main fw-bold py-4\">All Orders</h2>\r\n    {isLoading? <div className='loading d-flex align-items-center justify-content-center'>\r\n         <Triangle\r\n          visible={true}\r\n          height=\"80\"\r\n          width=\"80\"\r\n          color=\"var(--main-color)\"\r\n          ariaLabel=\"triangle-loading\"\r\n          wrapperStyle={{}}\r\n          wrapperClass=\"\"/> </div>:\r\n  <div className=\"container mt-5 pt-1\">\r\n    <p className=' fw-bolder bg-dark text-main p-2 mb-0 mt-3 text-center fs-5'> You have {owner.length} orders</p>\r\n    {owner? \r\n    <>\r\n  {owner.map((data)=>\r\n<div key={data._id} className=\"card my-3 border-5 border-dark-subtle\">\r\n  <div>\r\n  {data.cartItems.map((productsOrder)=>\r\n\r\n\r\n  <div key={productsOrder._id} className=\"row g-0 p-2 border-3 bg-gradient bg-success-subtle m-2 rounded-3\">\r\n    <div className=\"col-md-2\">\r\n      <img src={productsOrder.product.imageCover} className=\"img-fluid rounded-start w-100\" alt={productsOrder.product.imageCover}/>\r\n    </div>\r\n    <div className=\"col-md-10 position-relative\">\r\n      <div className =\"card-body\">\r\n        <h5 className=\"card-title fw-bolder position-absolute top-0 end-0 bg-main p-1 text-light\">{productsOrder.product.title.split(\" \").slice(0,3).join(' ')}</h5>\r\n        <ul className=' list-unstyled'>\r\n          <li className='fw-bolder mb-2'>Brand: <span className='color-main'>{productsOrder.product.brand.name}</span></li>\r\n          <li className='fw-bolder mb-2'>Category: <span className='color-main'>{productsOrder.product.category.name}</span></li>\r\n          <li className='fw-bolder mb-2'>Rating: <i className=\"fa fa-star rating-color\"></i>{productsOrder.product.ratingsAverage}</li>\r\n        </ul>\r\n        <p className='fw-bolder'> Count: {productsOrder.count}</p>\r\n        <p className='fw-bolder'> Price: {productsOrder.price} L.E</p>\r\n      </div>\r\n    </div>\r\n</div>\r\n  )}\r\n   <div className=' bg-dark text-light p-2 m-2 rounded-2'>\r\n    <p className=' text-center fw-bolder p-2 text-main rounded-2 fs-5'>Owner's info</p>\r\n    <ul className=' list-unstyled fw-bolder'>\r\n      <li><span className='text-main'>Name:</span> {data.user.name}</li>\r\n      <li><span className='text-main'>Email:</span> {data.user.email}</li>\r\n      <li><span className='text-main'>Phone:</span> +20{data.shippingAddress.phone}</li>\r\n      <li><span className='text-main'>City:</span> {data.shippingAddress.city}</li>\r\n      <li><span className='text-main'>Details:</span> {data.shippingAddress.details}</li>\r\n    </ul>\r\n   </div>\r\n   <p className='badge bg-danger fw-light fs-6 mb-0 rounded-0'>{data.createdAt}</p>\r\n  </div>\r\n</div>\r\n)}\r\n</>\r\n: <h2 className=' text-center my-5 bg-danger bg-gradient text-light p-2 fw-bolder'>You don't have any order yet</h2>}\r\n  </div>\r\n}\r\n    </>\r\n  )\r\n}\r\n"],"names":["AllOrders","owner","setOwner","useState","isLoading","setIsLoading","decodeToken","useContext","UserContext","useEffect","async","data","axios","get","concat","headers","token","localStorage","getItem","console","log","err","getOrders","_jsxs","_Fragment","children","_jsx","className","Triangle","visible","height","width","color","ariaLabel","wrapperStyle","wrapperClass","length","map","cartItems","productsOrder","src","product","imageCover","alt","title","split","slice","join","brand","name","category","ratingsAverage","count","price","_id","user","email","shippingAddress","phone","city","details","createdAt"],"sourceRoot":""}