{"version":3,"file":"static/js/849.8a320bfa.chunk.js","mappings":"oMAMA,MAiGA,EAjGiBA,KACf,MAAM,YAAEC,EAAW,eAAEC,IAAmBC,EAAAA,EAAAA,YAAWC,EAAAA,kBAC7C,UAAEC,EAAS,SAAEC,IAAaH,EAAAA,EAAAA,YAAWI,EAAAA,IAEpCC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,OACpCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,GAEvCG,eAAeC,IACb,IACE,MAAM,KAAEC,SAAed,IACvBQ,EAAaM,GACbH,GAAW,EACb,CAAE,MAAOI,GACPC,QAAQD,MAAM,iCAAkCA,GAChDJ,GAAW,EACb,CACF,CAoCA,OAlCAM,EAAAA,EAAAA,YAAU,KACRJ,GAAgB,GACf,KAiCDK,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGV,GACCQ,EAAAA,EAAAA,KAAA,OAAKG,UAAU,UAASD,UACtBF,EAAAA,EAAAA,KAACI,EAAAA,GAAY,CACXC,OAAQ,IACRC,MAAO,IACPC,OAAQ,EACRC,MAAM,UACNC,UAAU,wBACVC,aAAc,CAAC,EACfC,aAAa,YACbC,SAAS,OAIbC,EAAAA,EAAAA,MAAA,OAAKV,UAAU,2CAA0CD,SAAA,EACvDF,EAAAA,EAAAA,KAAA,MAAIG,UAAU,YAAWD,SAAC,kBACzBb,EAAUO,KAAKkB,KAAI,CAACC,EAASC,KAC5BH,EAAAA,EAAAA,MAAA,OAAKV,UAAU,gDAA+CD,SAAA,EAC5DF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,eAAcD,UAC3BF,EAAAA,EAAAA,KAAA,OAAKiB,IAAKF,EAAQG,WAAYC,IAAI,GAAGhB,UAAU,aAEjDH,EAAAA,EAAAA,KAAA,OAAKG,UAAU,WAAUD,UACvBW,EAAAA,EAAAA,MAAA,OAAKV,UAAU,OAAMD,SAAA,EACnBF,EAAAA,EAAAA,KAAA,MAAIG,UAAU,aAAYD,SAAEa,EAAQK,MAAMC,MAAM,KAAKC,OAAO,EAAG,GAAGC,KAAK,QACvEV,EAAAA,EAAAA,MAAA,KAAGV,UAAU,oBAAmBD,SAAA,CAAEa,EAAQS,MAAM,UAChDX,EAAAA,EAAAA,MAAA,UAAQV,UAAU,MAAMsB,QAASA,IA1CjD/B,eAA0BgC,GACxB,IACE,MAAM,KAAE9B,SAAeb,EAAe2C,GAClB,YAAhB9B,EAAK+B,QACPC,EAAAA,GAAMC,QAAQjC,EAAKkC,QAAS,CAAEC,SAAU,MACxCpC,KAEAiC,EAAAA,GAAM/B,MAAMD,EAAKkC,QAAS,CAAEC,SAAU,KAE1C,CAAE,MAAOlC,GACPC,QAAQD,MAAM,gCAAiCA,GAC/C+B,EAAAA,GAAM/B,MAAM,sCAAuC,CAAEkC,SAAU,KACjE,CACF,CA6BuDC,CAAWjB,EAAQkB,KAAK/B,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,KAAGG,UAAU,iCAAmC,mBAItDH,EAAAA,EAAAA,KAAA,OAAKG,UAAU,WAAUD,UACvBF,EAAAA,EAAAA,KAAA,UAAQG,UAAU,kCAAkCsB,QAASA,IA/D3E/B,eAA0BgC,GACxB,IACE,MAAM,KAAE9B,SAAeV,EAAUwC,GACb,YAAhB9B,EAAK+B,QACPC,EAAAA,GAAMC,QAAQjC,EAAKkC,QAAS,CAAEC,SAAU,MACxC5C,EAASS,EAAKsC,iBAEdN,EAAAA,GAAM/B,MAAMD,EAAKkC,QAAS,CAAEC,SAAU,KAE1C,CAAE,MAAOlC,GACP+B,EAAAA,GAAM/B,MAAM,gCAAiC,CAAEkC,SAAU,MACzDjC,QAAQD,MAAM,gCAAiCA,EACjD,CACF,CAkDiFsC,CAAWpB,EAAQkB,KAAK/B,SAAC,oBAd5Bc,SAsBzE,C","sources":["Component/WishList/WishList.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { BallTriangle } from 'react-loader-spinner';\r\nimport { WishListContext } from '../../Context/WishListContext';\r\nimport { CartContext } from '../../Context/CartContext';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst WishList = () => {\r\n  const { getWishItem, deleteWishItem } = useContext(WishListContext);\r\n  const { addToCart, setcount } = useContext(CartContext);\r\n\r\n  const [wishItems, setWishItems] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  async function fetchWishItems() {\r\n    try {\r\n      const { data } = await getWishItem();\r\n      setWishItems(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching wishlist items:', error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchWishItems();\r\n  }, []); \r\n\r\n  async function postToCart(id) {\r\n    try {\r\n      const { data } = await addToCart(id);\r\n      if (data.status === 'success') {\r\n        toast.success(data.message, { duration: 2000 });\r\n        setcount(data.numOfCartItems);\r\n      } else {\r\n        toast.error(data.message, { duration: 2000 });\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to add product to cart', { duration: 2000 });\r\n      console.error('Error adding product to cart:', error);\r\n    }\r\n  }\r\n\r\n  async function deleteWish(id) {\r\n    try {\r\n      const { data } = await deleteWishItem(id);\r\n      if (data.status === 'success') {\r\n        toast.success(data.message, { duration: 2000 });\r\n        fetchWishItems(); \r\n      } else {\r\n        toast.error(data.message, { duration: 2000 });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting wishlist item:', error);\r\n      toast.error('Failed to delete item from wishlist', { duration: 2000 });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <div className='loading'>\r\n          <BallTriangle\r\n            height={100}\r\n            width={100}\r\n            radius={5}\r\n            color='#4fa94d'\r\n            ariaLabel='ball-triangle-loading'\r\n            wrapperStyle={{}}\r\n            wrapperClass='text-main'\r\n            visible={true}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div className='bg-light p-5 mt-2 w-90 mx-auto mt-5 mb-5'>\r\n          <h2 className='fw-bolder'>Shop wishlist</h2>\r\n          {wishItems.data.map((product, index) => (\r\n            <div className='row border-3 border-bottom align-items-center' key={index}>\r\n              <div className='col-lg-2 m-2'>\r\n                <img src={product.imageCover} alt='' className='w-100' />\r\n              </div>\r\n              <div className='col-md-7'>\r\n                <div className='item'>\r\n                  <h3 className='h5 fw-bold'>{product.title.split(' ').splice(0, 3).join(' ')}</h3>\r\n                  <p className='text-main fw-bold'>{product.price}EGP</p>\r\n                  <button className='btn' onClick={() => deleteWish(product._id)}>\r\n                    <i className='fas fa-trash-can text-danger'></i> Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className='col-md-2'>\r\n                <button className='btn bg-main p-2 text-white fs-5' onClick={() => postToCart(product._id)}>\r\n                  Add to cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WishList;\r\n"],"names":["WishList","getWishItem","deleteWishItem","useContext","WishListContext","addToCart","setcount","CartContext","wishItems","setWishItems","useState","loading","setLoading","async","fetchWishItems","data","error","console","useEffect","_jsx","_Fragment","children","className","BallTriangle","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass","visible","_jsxs","map","product","index","src","imageCover","alt","title","split","splice","join","price","onClick","id","status","toast","success","message","duration","deleteWish","_id","numOfCartItems","postToCart"],"sourceRoot":""}