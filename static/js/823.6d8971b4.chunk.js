"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[823],{9823:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var t=s(5043),l=s(1521),c=s(2312),r=s(5475),n=s(579);const i=()=>{let{getCartItem:e,deleteCartItem:a,updateCartItem:s}=(0,t.useContext)(l.M);const[i,d]=(0,t.useState)(null),[m,o]=(0,t.useState)(!0);const{setcount:u}=(0,t.useContext)(l.M);async function h(e,t){if(t<1){o(!0);let{data:s}=await a(e);o(!1),d(s),u(s.numOfCartItems)}else{let{data:a}=await s(e,t);u(a.numOfCartItems),d(a)}o(!1)}return(0,t.useEffect)((()=>{!async function(){let{data:a}=await e();"success"==(null===a||void 0===a?void 0:a.status)?(d(a),o(!1),u(a.numOfCartItems)):o(!1)}()}),[]),(0,n.jsx)(n.Fragment,{children:1==m?(0,n.jsx)("div",{className:"loading",children:(0,n.jsx)(c.oJ,{height:100,width:100,radius:5,color:"#4fa94d",ariaLabel:"ball-triangle-loading",wrapperStyle:{},wrapperClass:"text-main",visible:!0})}):i?(0,n.jsxs)("div",{className:"bg-light p-5 mt-2 w-90 mx-auto ",children:[(0,n.jsx)("h2",{className:"fw-bolder",children:"Shop Cart"}),(0,n.jsxs)("h2",{class:" text-center my-3 bg-main text-light p-2 fw-bolder",children:["Cart Items : ",i.numOfCartItems]}),(0,n.jsxs)("h2",{className:"text-main fw-bolder h6",children:["Total Price : ",i.data.totalCartPrice,"  EGP"]}),i.data.products.map(((e,s)=>(0,n.jsxs)("div",{className:"row border-3 border-bottom align-items-center",children:[(0,n.jsx)("div",{className:"col-lg-2 m-2",children:(0,n.jsx)("img",{src:e.product.imageCover,alt:e.product.title,className:"w-100"})}),(0,n.jsx)("div",{className:"col-md-7",children:(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("h3",{className:"h5 fw-bold",children:e.product.title.split(" ").splice(0,3).join(" ")}),(0,n.jsxs)("ul",{className:" list-unstyled",children:[(0,n.jsxs)("li",{className:"fw-bolder mb-2",children:["Brand: ",(0,n.jsx)("span",{className:"color-main",children:e.product.brand.name})]}),(0,n.jsxs)("li",{className:"fw-bolder mb-2",children:["Category: ",(0,n.jsx)("span",{className:"color-main",children:e.product.category.name})]}),(0,n.jsxs)("li",{className:"fw-bolder mb-2",children:["Rating: ",(0,n.jsx)("i",{className:"fa fa-star rating-color"}),e.product.ratingsAverage]})]}),(0,n.jsxs)("h5",{className:"text-main fw-bold",children:[e.price,"EGP"]}),(0,n.jsxs)("button",{className:"btn",onClick:()=>{!async function(e){o(!0);let{data:s}=await a(e);d(s),o(!1),u(s.numOfCartItems)}(e.product.id)},children:[(0,n.jsx)("i",{className:"fas fa-trash-can text-danger"}),"Remove"]})]})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsxs)("div",{className:"count",children:[(0,n.jsx)("button",{className:"btn text-main fs-4 brdr",onClick:()=>{h(e.product.id,e.count-1)},children:"-"}),(0,n.jsx)("span",{className:"fs-4 fw-bolder p-2",children:e.count}),(0,n.jsx)("button",{className:"btn text-main fs-4  brdr",onClick:()=>{h(e.product.id,e.count+1)},children:"+"})]})})]},s))),(0,n.jsx)(r.N_,{to:"/shippingaddress/".concat(i.data._id),className:"btn bg-main text-light m-5 ",children:"Online Payment"})]}):(0,n.jsx)("div",{className:"mt-5 py-5 fs-1 fw-bolder text-center",children:"Cart is Empty"})})}}}]);
//# sourceMappingURL=823.6d8971b4.chunk.js.map