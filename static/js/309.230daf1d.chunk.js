"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[309],{3309:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var r=a(5043),l=a(7154),t=a(2312),i=a(1638),c=a(579);function n(){const[e,s]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1),{decodeToken:d}=(0,r.useContext)(i.R);return(0,r.useEffect)((()=>{!async function(){try{const e=await l.A.get("https://ecommerce.routemisr.com/api/v1/orders/user/".concat(d),{headers:{token:localStorage.getItem("token")}});console.log(e.data),s(e.data),n(!1)}catch(e){console.log(e)}}()}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{className:"text-center text-main fw-bold py-4",children:"All Orders"}),a?(0,c.jsxs)("div",{className:"loading d-flex align-items-center justify-content-center",children:[(0,c.jsx)(t.lM,{visible:!0,height:"80",width:"80",color:"var(--main-color)",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClass:""})," "]}):(0,c.jsxs)("div",{className:"container mt-5 pt-1",children:[(0,c.jsxs)("p",{className:" fw-bolder bg-dark text-main p-2 mb-0 mt-3 text-center fs-5",children:[" You have ",e.length," orders"]}),e?(0,c.jsx)(c.Fragment,{children:e.map((e=>(0,c.jsx)("div",{className:"card my-3 border-5 border-dark-subtle",children:(0,c.jsxs)("div",{children:[e.cartItems.map((e=>(0,c.jsxs)("div",{className:"row g-0 p-2 border-3 bg-gradient bg-success-subtle m-2 rounded-3",children:[(0,c.jsx)("div",{className:"col-md-2",children:(0,c.jsx)("img",{src:e.product.imageCover,className:"img-fluid rounded-start w-100",alt:e.product.imageCover})}),(0,c.jsx)("div",{className:"col-md-10 position-relative",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h5",{className:"card-title fw-bolder position-absolute top-0 end-0 bg-main p-1 text-light",children:e.product.title.split(" ").slice(0,3).join(" ")}),(0,c.jsxs)("ul",{className:" list-unstyled",children:[(0,c.jsxs)("li",{className:"fw-bolder mb-2",children:["Brand: ",(0,c.jsx)("span",{className:"color-main",children:e.product.brand.name})]}),(0,c.jsxs)("li",{className:"fw-bolder mb-2",children:["Category: ",(0,c.jsx)("span",{className:"color-main",children:e.product.category.name})]}),(0,c.jsxs)("li",{className:"fw-bolder mb-2",children:["Rating: ",(0,c.jsx)("i",{className:"fa fa-star rating-color"}),e.product.ratingsAverage]})]}),(0,c.jsxs)("p",{className:"fw-bolder",children:[" Count: ",e.count]}),(0,c.jsxs)("p",{className:"fw-bolder",children:[" Price: ",e.price," L.E"]})]})})]},e._id))),(0,c.jsxs)("div",{className:" bg-dark text-light p-2 m-2 rounded-2",children:[(0,c.jsx)("p",{className:" text-center fw-bolder p-2 text-main rounded-2 fs-5",children:"Owner's info"}),(0,c.jsxs)("ul",{className:" list-unstyled fw-bolder",children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"text-main",children:"Name:"})," ",e.user.name]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"text-main",children:"Email:"})," ",e.user.email]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"text-main",children:"Phone:"})," +20",e.shippingAddress.phone]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"text-main",children:"City:"})," ",e.shippingAddress.city]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{className:"text-main",children:"Details:"})," ",e.shippingAddress.details]})]})]}),(0,c.jsx)("p",{className:"badge bg-danger fw-light fs-6 mb-0 rounded-0",children:e.createdAt})]})},e._id)))}):(0,c.jsx)("h2",{className:" text-center my-5 bg-danger bg-gradient text-light p-2 fw-bolder",children:"You don't have any order yet"})]})]})}}}]);
//# sourceMappingURL=309.230daf1d.chunk.js.map