{"version":3,"file":"static/js/277.71181bfd.chunk.js","mappings":"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","sources":["Component/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { BallTriangle } from 'react-loader-spinner';\r\nimport Slider from \"react-slick\";\r\nimport { useQuery } from 'react-query';\r\nimport { CartContext } from '../../Context/CartContext';\r\nimport toast from 'react-hot-toast';\r\nimport { WishListContext } from '../../Context/WishListContext';\r\n\r\nconst ProductDetails = () => {\r\n  let {setcount}= useContext(CartContext)\r\n    function getProducts() {\r\n        return axios.get('https://ecommerce.routemisr.com/api/v1/products')\r\n      }\r\n      let {data,isFetching,isLoading,isError}=useQuery('featuredProducts',getProducts,{\r\n        cacheTime:3000,\r\n        staleTime:500\r\n      })\r\n      let {addToCart}= useContext(CartContext)\r\n    async function PostToCart(id) {\r\n      let {data}=await addToCart(id)\r\n      getItems()\r\n      if(data.status=='success'){\r\n        toast.success(data.message,{duration:2000})\r\n        setcount(data.numOfCartItems)\r\n      }else{\r\n        toast.error(data.message,{duration:2000})\r\n      }}\r\n    var settings = {\r\n        dots: false,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        autoplay:true,\r\n        autoplaySpeed:1000\r\n      };\r\n      \r\n    const [Details, setDetails] = useState({});\r\n    const [Loading, setLoading] = useState(true);\r\n    let {id}=useParams()\r\n    async function getProductDetails(id) {\r\n        let {data}=await axios.get(`https://ecommerce.routemisr.com/api/v1/products/${id}`)\r\n        setDetails(data.data)\r\n        setLoading(false)\r\n        getItems()\r\n    }\r\n    async function postToWishList(productId) {\r\n      let {data}=await addToWishList(productId)\r\n      if(data.status=='success'){\r\n        toast.success(data.message,{duration:2000,icon:<i className=\"fa-solid fa-heart text-danger heart fa-3x cursor-pointer\"></i>})\r\n      }else{\r\n        toast.error(data.message,{duration:2000})\r\n      }\r\n    }\r\n    let {getWishItem,addToWishList}= useContext(WishListContext)\r\n    const [Check, setCheck] = useState([]);\r\n    async function getItems() {\r\n      let {data}=await getWishItem()\r\n      setCheck(data?.data.map((id)=>{\r\n        return id._id\r\n      }))\r\n  \r\n  }\r\n  function test(id){\r\n    if(Check.includes(id)){\r\n    return  <i className=\"fa-solid fa-heart fs-2 text-danger heart cursor-pointer \"></i>\r\n    }else{\r\n      return <i className=\"fa-solid fa-heart fs-2 heart cursor-pointer\"></i>\r\n    }\r\n   }\r\n    useEffect(()=>{getProductDetails(id)},[])\r\n    return <>\r\n    {Loading==true?<div className='d-flex justify-content-center align-items-center vh-100 '>\r\n        <BallTriangle\r\n  height={100}\r\n  width={100}\r\n  radius={5}\r\n  color=\"#4fa94d\"\r\n  ariaLabel=\"ball-triangle-loading\"\r\n  wrapperStyle={{}}\r\n  wrapperClass=\"text-main\"\r\n  visible={true}\r\n  />\r\n    </div>:<>\r\n    <div className=\"row d-flex justify-content-center align-items-center p-4\">\r\n        <div className=\"col-md-4\">\r\n        <Slider {...settings}>\r\n            {Details.images.map((image,index)=><img src={image} alt={Details.title} className='w-100 p-5' key={index}/>)}\r\n    </Slider>\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n        <div className=\" p-2 rounded-4\"  >\r\n        <h3 className='h5 py-2 fw-bold'>{Details.title}</h3>\r\n        <p>{Details.description}</p>\r\n        <span className='text-main fw-bold font-sm'>{Details.category.name}</span>\r\n        <div className=\"d-flex justify-content-between align-items-center py-2 fw-bold\">\r\n        <span className='font-sm'>{Details.price} EGP</span>\r\n        <span className='' onClick={()=>{postToWishList(Details._id)}}> {test(Details.id)}</span>\r\n        <span><i className='fas fa-star rating-color me-1'></i>{Details.ratingsAverage}</span>\r\n        </div>\r\n        <button className='btn bg-main w-100 text-white ' onClick={()=>{PostToCart(Details._id)}}>AddToCart</button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    </>}\r\n    </>\r\n}\r\n\r\nexport default ProductDetails;"],"names":["ProductDetails","setcount","useContext","CartContext","data","isFetching","isLoading","isError","useQuery","axios","get","cacheTime","staleTime","addToCart","Details","setDetails","useState","Loading","setLoading","id","useParams","getWishItem","addToWishList","WishListContext","Check","setCheck","async","getItems","map","_id","useEffect","concat","getProductDetails","_jsx","_Fragment","children","className","BallTriangle","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass","visible","_jsxs","Slider","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","images","image","index","src","alt","title","description","category","name","price","onClick","productId","status","toast","success","message","duration","icon","error","postToWishList","includes","test","ratingsAverage","numOfCartItems","PostToCart"],"sourceRoot":""}