{"version":3,"file":"static/js/811.26476357.chunk.js","mappings":"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","sources":["Component/FeaturedProducts/FeaturedProducts.jsx","Component/Products/Products.jsx","Context/CounterContext.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { BallTriangle } from \"react-loader-spinner\";\r\nimport { useQuery } from \"react-query\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport { CartContext } from \"../../Context/CartContext\";\r\nimport { CounterContext } from \"../../Context/CounterContext\";\r\nimport { WishListContext } from \"../../Context/WishListContext\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function FeaturedProducts() {\r\n  const { setcount } = useContext(CartContext);\r\n\r\n  const { changeCount } = useContext(CounterContext);\r\n \r\n  const { addToCart } = useContext(CartContext);\r\n\r\n  const getProducts = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://ecommerce.routemisr.com/api/v1/products`\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Error fetching products: \", error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  let {addToWishList,getWishItem}= useContext(WishListContext)\r\n  const { data, isLoading, isError } = useQuery(\"featuredProducts\", getProducts);\r\n\r\n  const postToCart = async (id) => {\r\n    try {\r\n      const { data } = await addToCart(id);\r\n      if (data.status === \"success\") {\r\n        toast.success(data.message);\r\n        setcount(data.numOfCartItems);\r\n        \r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Failed to add product to cart\");\r\n      console.error(\"Error adding product to cart:\", error);\r\n    }\r\n  };\r\n  async function postToWishList(productId) {\r\n    let {data}=await addToWishList(productId)\r\n    if(data.status=='success'){\r\n      toast.success(data.message,{duration:2000,icon:<i className=\"fa-solid fa-heart heart text-danger fa-3x\"></i>\r\n    })\r\n   \r\n    }\r\n    else{\r\n      toast.error(data.message,{duration:2000})\r\n    }\r\n  }\r\n  const [Check, setCheck] = useState([]);\r\n  async function getItems() {\r\n    let {data}=await getWishItem()\r\n    setCheck(data?.data.map((id)=>{\r\n      return id._id\r\n    }))\r\n    \r\n}\r\nfunction test(id){\r\n  if(Check?.includes(id)){\r\n  return  <i className=\"fa-solid fa-heart fs-2 text-danger heart cursor-pointer\"></i>\r\n  }else{\r\n    return <i className=\"fa-solid fa-heart fs-2 heart cursor-pointer\"></i>\r\n  }\r\n }\r\n useEffect(()=>{getItems()})\r\n\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"loading-spinner\">\r\n        <BallTriangle\r\n          height={100}\r\n          width={100}\r\n          radius={5}\r\n          color=\"#4fa94d\"\r\n          ariaLabel=\"ball-triangle-loading\"\r\n          wrapperStyle={{}}\r\n          wrapperClass=\"d-flex justify-content-center mt-5 \"\r\n          visible={true}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  \r\n \r\n  \r\n  return (\r\n    <div>\r\n     \r\n      <div className=\"row gy-4  py-5\">\r\n        {data?.data.map((product) => (\r\n          <div className=\"col-lg-2\" key={product.id}>\r\n            <div className=\"product p-2 shadow\">\r\n              <Link to={`/productdetails/${product.id}`}>\r\n            \r\n              \r\n                <img\r\n                  src={product.imageCover}\r\n                  className=\"w-100\"\r\n                  alt={product.title}\r\n                />\r\n                <span className=\"font-sm text-main\">\r\n                  {product.category.name}\r\n                </span>\r\n                <h3>{product.title.split(\" \").splice(0, 2).join(\" \")}</h3>\r\n                <div className=\"d-flex py-3 justify-content-between align-item-center\">\r\n                  <span className=\"font-sm\">{product.price}EGP</span>\r\n                  <span className=\"font-sm\">\r\n                    <i className=\"fas fa-star rating-color me-1\"></i>\r\n                    {product.ratingsAverage}\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n              <span className='' onClick={()=>{\r\n                postToWishList(product._id);\r\n              \r\n              }}> {test(product._id)}</span>\r\n              \r\n\r\n              <button\r\n                onClick={() => {\r\n                  postToCart(product.id);\r\n                  changeCount(product.id);\r\n                }}\r\n                className=\"btn bg-main text-main-light w-100 btn-sm\"\r\n              >\r\n                Add To Cart\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport FeaturedProducts from '../FeaturedProducts/FeaturedProducts'\r\n\r\nexport default function Products() {\r\n\r\n  return (\r\n    <>\r\n    <FeaturedProducts/>\r\n    </>\r\n  )\r\n}\r\n","import { createContext, useState } from \"react\";\r\n\r\nexport let CounterContext = createContext();\r\n\r\nexport default function CounterContextProvider(props) {\r\n    \r\n    const [count ,setCount]= useState(0)\r\n\r\n    function changeCount(){\r\n        setCount(Math.random())\r\n    }\r\n    return <CounterContext.Provider value={ {count , changeCount} }> \r\n    {props.children}\r\n    </CounterContext.Provider>\r\n}\r\n"],"names":["FeaturedProducts","setcount","useContext","CartContext","changeCount","CounterContext","addToCart","addToWishList","getWishItem","WishListContext","data","isLoading","isError","useQuery","async","axios","get","error","console","Check","setCheck","useState","useEffect","map","id","_id","getItems","_jsx","className","children","BallTriangle","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass","visible","product","_jsxs","Link","to","concat","src","imageCover","alt","title","category","name","split","splice","join","price","ratingsAverage","onClick","productId","status","toast","success","message","duration","icon","postToWishList","includes","numOfCartItems","postToCart","Products","_Fragment","createContext","CounterContextProvider","props","count","setCount","Provider","value","Math","random"],"sourceRoot":""}