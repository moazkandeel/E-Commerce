"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[849],{5849:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var a=t(5043),r=t(2312),i=t(5358),c=t(1521),o=t(3768),l=t(579);const n=()=>{const{getWishItem:e,deleteWishItem:s}=(0,a.useContext)(i.WishListContext),{addToCart:t,setcount:n}=(0,a.useContext)(c.M),[d,m]=(0,a.useState)(null),[h,u]=(0,a.useState)(!0);async function x(){try{const{data:s}=await e();m(s),u(!1)}catch(s){console.error("Error fetching wishlist items:",s),u(!1)}}return(0,a.useEffect)((()=>{x()}),[]),(0,l.jsx)(l.Fragment,{children:h?(0,l.jsx)("div",{className:"loading",children:(0,l.jsx)(r.oJ,{height:100,width:100,radius:5,color:"#4fa94d",ariaLabel:"ball-triangle-loading",wrapperStyle:{},wrapperClass:"text-main",visible:!0})}):(0,l.jsxs)("div",{className:"bg-light p-5 mt-2 w-90 mx-auto mt-5 mb-5",children:[(0,l.jsx)("h2",{className:"fw-bolder",children:"Shop wishlist"}),d.data.map(((e,a)=>(0,l.jsxs)("div",{className:"row border-3 border-bottom align-items-center",children:[(0,l.jsx)("div",{className:"col-lg-2 m-2",children:(0,l.jsx)("img",{src:e.imageCover,alt:"",className:"w-100"})}),(0,l.jsx)("div",{className:"col-md-7",children:(0,l.jsxs)("div",{className:"item",children:[(0,l.jsx)("h3",{className:"h5 fw-bold",children:e.title.split(" ").splice(0,3).join(" ")}),(0,l.jsxs)("p",{className:"text-main fw-bold",children:[e.price,"EGP"]}),(0,l.jsxs)("button",{className:"btn",onClick:()=>async function(e){try{const{data:t}=await s(e);"success"===t.status?(o.Ay.success(t.message,{duration:2e3}),x()):o.Ay.error(t.message,{duration:2e3})}catch(t){console.error("Error deleting wishlist item:",t),o.Ay.error("Failed to delete item from wishlist",{duration:2e3})}}(e._id),children:[(0,l.jsx)("i",{className:"fas fa-trash-can text-danger"})," Remove"]})]})}),(0,l.jsx)("div",{className:"col-md-2",children:(0,l.jsx)("button",{className:"btn bg-main p-2 text-white fs-5",onClick:()=>async function(e){try{const{data:s}=await t(e);"success"===s.status?(o.Ay.success(s.message,{duration:2e3}),n(s.numOfCartItems)):o.Ay.error(s.message,{duration:2e3})}catch(s){o.Ay.error("Failed to add product to cart",{duration:2e3}),console.error("Error adding product to cart:",s)}}(e._id),children:"Add to cart"})})]},a)))]})})}}}]);
//# sourceMappingURL=849.8a320bfa.chunk.js.map